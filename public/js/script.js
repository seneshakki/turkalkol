const API_URL='',DIR=API_URL+'/images/watermarked';let photos=[],index=0x0;const photoWrap=document['getElementById']('photoWrap'),mainPhotoEl=document['getElementById']('mainPhoto');function rndm(_0x316b62,_0x127a8a){return Math['floor'](Math['random']()*(_0x127a8a-_0x316b62+0x1))+_0x316b62;}let userId=localStorage['getItem']('turkalkol_userId');!userId&&(userId='user_'+Math['random']()['toString'](0x24)['substr'](0x2,0x9)+Date['now'](),localStorage['setItem']('turkalkol_userId',userId));let startX=0x0,currentX=0x0,dragging=![];const threshold=0x46,followRate=0.35;function swipeStart(_0x27d008){if(!photos['length']||!mainPhotoEl)return;dragging=!![],startX=_0x27d008,currentX=_0x27d008,mainPhotoEl['style']['transition']='none';}function swipeMove(_0x1dfb1a){if(!dragging||!mainPhotoEl)return;currentX=_0x1dfb1a;const _0x19a5f6=currentX-startX;mainPhotoEl['style']['transform']='translateX('+_0x19a5f6*followRate+'px)';}function swipeEnd(){if(!dragging)return;dragging=![];const _0x37f538=currentX-startX;if(_0x37f538<-threshold&&index<photos['length']-0x1)render(index+0x1);else _0x37f538>threshold&&index>0x0&&render(index-0x1);mainPhotoEl['style']['transition']='transform\x200.2s\x20ease',mainPhotoEl['style']['transform']='translateX(0)';}photoWrap['addEventListener']('touchstart',_0x5a9155=>swipeStart(_0x5a9155['touches'][0x0]['clientX'])),photoWrap['addEventListener']('touchmove',_0x41c2f0=>swipeMove(_0x41c2f0['touches'][0x0]['clientX'])),photoWrap['addEventListener']('touchend',swipeEnd),photoWrap['addEventListener']('mousedown',_0x29e907=>swipeStart(_0x29e907['clientX'])),photoWrap['addEventListener']('mousemove',_0x4958af=>swipeMove(_0x4958af['clientX'])),photoWrap['addEventListener']('mouseup',swipeEnd),photoWrap['addEventListener']('mouseleave',swipeEnd);async function loadLikes(_0x2de0d7,_0x503708=0x2){for(let _0x146dd9=0x0;_0x146dd9<=_0x503708;_0x146dd9++){try{const _0x2edeb7=await fetch(API_URL+'/likes/'+_0x2de0d7,{'cache':'no-store','headers':{'Cache-Control':'no-cache'}});if(!_0x2edeb7['ok'])return{'count':0x0,'users':[]};const _0x409cdb=await _0x2edeb7['json']();return _0x409cdb;}catch(_0x5e169c){if(_0x146dd9===_0x503708)return console['error']('Like\x20yÃ¼kleme\x20hatasÄ±:',_0x5e169c),{'count':0x0,'users':[]};await new Promise(_0x2507c1=>setTimeout(_0x2507c1,0x1f4));}}return{'count':0x0,'users':[]};}async function toggleLike(_0x2daea6){const _0x2ec547=await fetch(API_URL+'/like/'+_0x2daea6,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'userId':userId})});if(!_0x2ec547['ok'])throw new Error('BeÄŸeni\x20gÃ¶nderilemedi');return await _0x2ec547['json']();}async function updateLikeButton(_0x348494){const _0x5f0d47=document['getElementById']('likeBtn'),_0xe38e5d=document['getElementById']('likeCount'),_0x2b6bba=_0x5f0d47['querySelector']('.heart-icon');_0xe38e5d['textContent']='...',_0x2b6bba['textContent']='ðŸ¤';try{const _0x186ba2=await loadLikes(_0x348494),_0x4aa08d=_0x186ba2['users']['includes'](userId);_0xe38e5d['textContent']=_0x186ba2['count']??0x0,_0x2b6bba['textContent']=_0x4aa08d?'â¤ï¸':'ðŸ¤',_0x5f0d47['classList']['toggle']('liked',_0x4aa08d);}catch{_0xe38e5d['textContent']='0',_0x2b6bba['textContent']='ðŸ¤',_0x5f0d47['classList']['remove']('liked');}}function updateButtons(){const _0x344fb6=document['getElementById']('prevBtn'),_0x6dad28=document['getElementById']('nextBtn');_0x344fb6['disabled']=index===0x0,_0x6dad28['disabled']=index===photos['length']-0x1;}async function loadPhotos(){try{const _0x38e662=await fetch(API_URL+'/list',{'cache':'no-store'});if(!_0x38e662['ok'])return;const _0x2c73a6=await _0x38e662['json']();if(!Array['isArray'](_0x2c73a6))return;photos=_0x2c73a6['sort']((_0xe4d26f,_0xd2d267)=>{const _0x3cf47c=parseInt(_0xe4d26f['match'](/(\d+)/)?.[0x0])||0x0,_0x11c991=parseInt(_0xd2d267['match'](/(\d+)/)?.[0x0])||0x0;return _0x3cf47c-_0x11c991;});if(!photos['length']){document['getElementById']('photoNumber')['textContent']='#0\x20/\x200';return;}index=photos['length']-0x1,render(index);}catch(_0x3b2c0a){console['error']('FotoÄŸraf\x20listesi\x20alÄ±namadÄ±:',_0x3b2c0a);}}async function render(_0x751507){if(!photos['length'])return;if(_0x751507<0x0)_0x751507=0x0;if(_0x751507>=photos['length'])_0x751507=photos['length']-0x1;index=_0x751507,mainPhotoEl['style']['transform']='translateX(0)';const _0x1ae401=photos[index],_0x101126=DIR+'/'+_0x1ae401;mainPhotoEl['src']=_0x101126,mainPhotoEl['alt']=_0x1ae401,document['getElementById']('photoNumber')['textContent']='#'+(index+0x1)+'\x20/\x20'+photos['length'];const _0x1a1e70=document['getElementById']('likeBtn');_0x1a1e70['disabled']=!![],await updateLikeButton(_0x1ae401),_0x1a1e70['disabled']=![];const _0xc927f=document['getElementById']('downloadBtn');_0xc927f['href']=_0x101126,_0xc927f['download']=_0x1ae401,updateButtons();}document['getElementById']('prevBtn')['addEventListener']('click',()=>render(index-0x1)),document['getElementById']('nextBtn')['addEventListener']('click',()=>render(index+0x1)),document['getElementById']('randBtn')['addEventListener']('click',()=>{if(!photos['length'])return;let _0x1460da;do{_0x1460da=rndm(0x0,photos['length']-0x1);}while(_0x1460da===index&&photos['length']>0x1);render(_0x1460da);});async function handleLike(_0x937aab){_0x937aab&&(_0x937aab['preventDefault'](),_0x937aab['stopPropagation']());if(!photos['length'])return;const _0x49b39e=photos[index],_0x29fbba=document['getElementById']('likeBtn'),_0x20f15e=_0x29fbba['querySelector']('.heart-icon');if(_0x29fbba['disabled'])return;_0x29fbba['disabled']=!![];try{const _0x272fad=await toggleLike(_0x49b39e);document['getElementById']('likeCount')['textContent']=_0x272fad['count']??0x0,_0x20f15e['textContent']=_0x272fad['hasLiked']?'â¤ï¸':'ðŸ¤',_0x29fbba['classList']['toggle']('liked',_0x272fad['hasLiked']),_0x272fad['hasLiked']&&(_0x20f15e['classList']['add']('heart-pop'),createHeartBurst(_0x29fbba),setTimeout(()=>_0x20f15e['classList']['remove']('heart-pop'),0x190));}catch(_0x45462d){console['error']('BeÄŸeni\x20hatasÄ±:',_0x45462d);}finally{_0x29fbba['disabled']=![];}}const likeBtnEl=document['getElementById']('likeBtn');likeBtnEl['addEventListener']('click',handleLike),likeBtnEl['addEventListener']('touchend',handleLike),likeBtnEl['style']['touchAction']='manipulation';function createHeartBurst(_0x59b8da){const _0x37cb5c=_0x59b8da['getBoundingClientRect'](),_0x4e80a2=_0x37cb5c['left']+_0x37cb5c['width']/0x2,_0xb1401b=_0x37cb5c['top']+_0x37cb5c['height']/0x2,_0x2da271=[{'x':-0x1e,'y':-0x32},{'x':0x1e,'y':-0x32},{'x':-0x32,'y':-0x14},{'x':0x32,'y':-0x14},{'x':0x0,'y':-0x3c},{'x':-0x28,'y':0xa},{'x':0x28,'y':0xa},{'x':0x0,'y':0x1e}];_0x2da271['forEach']((_0x3b9967,_0x50b07f)=>{const _0x475a85=document['createElement']('span');_0x475a85['textContent']='â¤ï¸',_0x475a85['style']['cssText']='\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20left:\x20'+_0x4e80a2+'px;\x0a\x20\x20\x20\x20\x20\x20top:\x20'+_0xb1401b+'px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20pointer-events:\x20none;\x0a\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x20-50%);\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.5s\x20ease-out;\x0a\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20',document['body']['appendChild'](_0x475a85),requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x475a85['style']['transform']='translate(calc(-50%\x20+\x20'+_0x3b9967['x']+'px),\x20calc(-50%\x20+\x20'+_0x3b9967['y']+'px))\x20scale(0.5)',_0x475a85['style']['opacity']='0';});}),setTimeout(()=>_0x475a85['remove'](),0x1f4);});}const lightbox=document['getElementById']('lightbox'),lbImg=document['getElementById']('lbImg'),lbClose=document['getElementById']('lbClose'),lbBackdrop=document['getElementById']('lbBackdrop'),openLightboxBtn=document['getElementById']('openLightbox');openLightboxBtn['addEventListener']('click',()=>{if(!photos['length'])return;lbImg['src']=DIR+'/'+photos[index],lightbox['setAttribute']('aria-hidden','false');}),lbClose['addEventListener']('click',()=>lightbox['setAttribute']('aria-hidden','true')),lbBackdrop['addEventListener']('click',()=>lightbox['setAttribute']('aria-hidden','true')),document['addEventListener']('keydown',_0x2f3581=>{_0x2f3581['key']==='Escape'&&(lightbox['setAttribute']('aria-hidden','true'),sideMenu['classList']['remove']('open'),menuOverlay['classList']['remove']('active'));if(_0x2f3581['key']==='ArrowLeft')render(index-0x1);if(_0x2f3581['key']==='ArrowRight')render(index+0x1);});const drunkToggle=document['getElementById']('drunkToggle');if(drunkToggle){const saved=localStorage['getItem']('drunkMode'),isOn=saved==='true';drunkToggle['checked']=isOn,document['body']['classList']['toggle']('sober',!isOn),drunkToggle['addEventListener']('change',()=>{const _0x363795=drunkToggle['checked'];localStorage['setItem']('drunkMode',String(_0x363795)),document['body']['classList']['toggle']('sober',!_0x363795);});}const menuBtn=document['getElementById']('menuBtn'),sideMenu=document['getElementById']('sideMenu'),menuOverlay=document['getElementById']('menuOverlay');menuBtn&&sideMenu&&menuOverlay&&(menuBtn['addEventListener']('click',()=>{sideMenu['classList']['toggle']('open'),menuOverlay['classList']['toggle']('active');}),menuOverlay['addEventListener']('click',()=>{sideMenu['classList']['remove']('open'),menuOverlay['classList']['remove']('active');})),(loadPhotos(),function initAgeVerification(){const _0x3bcc67=document['getElementById']('ageVerification'),_0x544c2e=document['getElementById']('ageYes'),_0xc1519d=document['getElementById']('ageNo');if(!_0x3bcc67||!_0x544c2e||!_0xc1519d)return;function _0x222cda(_0xe14d9a){_0xe14d9a&&(_0xe14d9a['preventDefault'](),_0xe14d9a['stopPropagation']()),_0x3bcc67['classList']['add']('hidden'),document['body']['style']['overflow']='';}function _0x26364e(_0x19c921){_0x19c921&&(_0x19c921['preventDefault'](),_0x19c921['stopPropagation']()),window['location']['href']='https://www.google.com';}document['body']['style']['overflow']='hidden',_0x544c2e['addEventListener']('click',_0x222cda),_0x544c2e['addEventListener']('touchend',_0x222cda),_0xc1519d['addEventListener']('click',_0x26364e),_0xc1519d['addEventListener']('touchend',_0x26364e),_0x544c2e['style']['touchAction']='manipulation',_0xc1519d['style']['touchAction']='manipulation';}());