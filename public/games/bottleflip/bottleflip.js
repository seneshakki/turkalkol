const canvas=document['getElementById']('gameCanvas'),ctx=canvas['getContext']('2d'),ITEMS={'shotGlass':{'name':'Shot\x20Bardak','type':'glass','h':0x78,'w':0x46,'topW':0x46,'bottomW':0x32,'image':'/images/bottles/shot/jagermeister.png','fill':'#c9a227','opacity':0.6,'mass':0.4,'centerOfMass':0.7},'beerGlass':{'name':'Bira\x20BardaÄŸÄ±','type':'glass','h':0xa0,'w':0x50,'topW':0x50,'bottomW':0x41,'image':'/images/bottles/bira/efes.png','fill':'#f5b800','opacity':0.5,'mass':0.6,'centerOfMass':0.65},'wineGlass':{'name':'Åžarap\x20Kadehi','type':'glass','h':0xaa,'w':0x50,'topW':0x4b,'bottomW':0x28,'image':'/images/bottles/sarap/kavaklidere.png','fill':'#722F37','opacity':0.4,'mass':0.5,'centerOfMass':0.55},'whiskyGlass':{'name':'Viski\x20BardaÄŸÄ±','type':'glass','h':0x8c,'w':0x50,'topW':0x50,'bottomW':0x46,'image':'/images/bottles/viski/jack-daniels.png','fill':'#d4a574','opacity':0.5,'mass':0.7,'centerOfMass':0.75},'rakiBottle':{'name':'RakÄ±\x20ÅžiÅŸesi','type':'bottle','h':0xc8,'w':0x46,'neckH':0x32,'neckW':0x16,'image':'/images/bottles/raki/yeni-raki.png','fill':'#ffffff','opacity':0.3,'mass':0x1,'centerOfMass':0.6},'vodkaBottle':{'name':'Votka\x20ÅžiÅŸesi','type':'bottle','h':0xc8,'w':0x46,'neckH':0x3c,'neckW':0x19,'image':'/images/bottles/vodka/istanblue.png','fill':'#e0e0e0','opacity':0.25,'mass':1.1,'centerOfMass':0.55}},SURFACES={'rakiTable':{'name':'RakÄ±\x20MasasÄ±','image':'tables/raki_table.png','bounce':0.3,'friction':0.8},'beerTable':{'name':'Bira\x20MasasÄ±','image':'tables/beer_table.png','bounce':0.35,'friction':0.75},'woodBar':{'name':'AhÅŸap\x20Bar','image':'tables/wood_table.png','bounce':0.3,'friction':0.8},'glassTable':{'name':'Cam\x20Masa','color':'rgba(100,180,220,0.4)','highlight':'rgba(150,200,240,0.6)','bounce':0.25,'friction':0.5,'transparent':!![]}},PHYSICS={'gravity':0.35,'airDrag':0.997,'angularDrag':0.995,'minVelocity':0.5,'maxPower':0x64,'perfectLanding':0x8,'goodLanding':0x14,'okLanding':0x23},isMobile=/Android|iPhone|iPad|iPod|webOS|BlackBerry|IEMobile|Opera Mini/i['test'](navigator['userAgent'])||window['innerWidth']<0x300,PERF={'maxParticles':isMobile?0x6:0xf,'enableShadows':!isMobile,'enableGlow':!isMobile,'enableWoodGrain':!isMobile,'enableAmbientLight':!isMobile};let state={'screen':'menu','username':'','currentItem':'shotGlass','currentSurface':'woodBar','score':0x0,'combo':0x0,'bestCombo':0x0,'isFlipping':![],'isCharging':![],'power':0x0,'powerDir':1.5,'soundOn':!![],'particles':[]},obj={'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'angle':0x0,'angVel':0x0,'grounded':!![]};const $=_0x34c30a=>document['getElementById'](_0x34c30a),ui={'menuScreen':$('loginScreen'),'gameScreen':$('gameScreen'),'username':$('usernameInput'),'startBtn':$('startBtn'),'leaderboard':$('top5List'),'score':$('currentScore'),'combo':$('comboDisplay'),'message':$('messageOverlay'),'powerFill':$('powerFill'),'powerText':$('powerText'),'flipBtn':$('flipBtn'),'exitBtn':$('exitBtn'),'soundBtn':$('soundBtn'),'itemBtn':$('itemBtn'),'surfaceBtn':$('surfaceBtn')},tableImages={};function preloadTableImages(){Object['keys'](SURFACES)['forEach'](_0x22e36a=>{const _0x4b3b10=SURFACES[_0x22e36a];if(_0x4b3b10['image']){const _0x1e7bec=new Image();_0x1e7bec['src']=_0x4b3b10['image'],_0x1e7bec['onload']=()=>{tableImages[_0x22e36a]=_0x1e7bec;};}});}const itemImages={};function preloadItemImages(){Object['keys'](ITEMS)['forEach'](_0x112362=>{const _0x53b632=ITEMS[_0x112362];if(_0x53b632['image']){const _0x38bdc1=new Image();_0x38bdc1['src']=_0x53b632['image'],_0x38bdc1['onload']=()=>{itemImages[_0x112362]=_0x38bdc1,console['log']('Loaded:',_0x112362,_0x53b632['image']);},_0x38bdc1['onerror']=()=>{console['warn']('Failed\x20to\x20load:',_0x53b632['image']);};}});}function init(){preloadTableImages(),preloadItemImages(),resize(),loadLeaderboard(),window['addEventListener']('resize',resize),ui['startBtn']?.['addEventListener']('click',startGame),ui['exitBtn']?.['addEventListener']('click',exitGame),ui['soundBtn']?.['addEventListener']('click',toggleSound),ui['itemBtn']?.['addEventListener']('click',cycleItem),ui['surfaceBtn']?.['addEventListener']('click',cycleSurface);if(ui['flipBtn']){ui['flipBtn']['addEventListener']('contextmenu',_0x107a1f=>_0x107a1f['preventDefault']());const _0x33fc13=_0x4cf1de=>{state['screen']==='game'&&!state['isFlipping']&&obj['grounded']&&(_0x4cf1de['preventDefault'](),state['isCharging']=!![],state['power']=0x0,ui['flipBtn']['classList']['add']('pressing'));},_0x18641b=_0x591175=>{if(state['isCharging']){_0x591175['preventDefault'](),state['isCharging']=![],ui['flipBtn']['classList']['remove']('pressing');if(state['power']>0x5)doFlip();}};ui['flipBtn']['addEventListener']('mousedown',_0x33fc13),ui['flipBtn']['addEventListener']('touchstart',_0x33fc13,{'passive':![]}),window['addEventListener']('mouseup',_0x18641b),window['addEventListener']('touchend',_0x18641b);}requestAnimationFrame(gameLoop);}function resize(){canvas['width']=window['innerWidth'],canvas['height']=window['innerHeight'],resetObject();}function startGame(){const _0x18b0d7=ui['username']?.['value']['trim']()||'Oyuncu';if(_0x18b0d7['length']<0x2){showMessage('Ä°sim\x20Ã§ok\x20kÄ±sa!','#ef4444');return;}state['username']=_0x18b0d7,state['screen']='game',state['score']=0x0,state['combo']=0x0,ui['menuScreen']?.['classList']['remove']('active'),ui['gameScreen']?.['classList']['add']('active'),resetObject(),updateUI();}function exitGame(){if(state['score']>0x0)saveScore();state['screen']='menu',ui['menuScreen']?.['classList']['add']('active'),ui['gameScreen']?.['classList']['remove']('active'),loadLeaderboard();}function doFlip(){const _0x1a91c5=ITEMS[state['currentItem']],_0x34b03e=SURFACES[state['currentSurface']];state['isFlipping']=!![],obj['grounded']=![],state['flipStartTime']=Date['now'](),ui['flipBtn']['textContent']='ðŸ”„',ui['flipBtn']['disabled']=!![];const _0x184ac8=state['power']/PHYSICS['maxPower'],_0x44a55a=Math['sqrt'](0x1/_0x1a91c5['mass']),_0x2bdbfa=0x1+_0x1a91c5['h']/0x96*0.2,_0x24f2c6=0x8+_0x184ac8*0xa;obj['vy']=-_0x24f2c6*_0x44a55a*_0x2bdbfa;const _0x4b0065=(0x1-_0x184ac8*0.5)*0x5;obj['vx']=(Math['random']()-0.5)*_0x4b0065;const _0x444985=Math['random']()>0.5?0x1:-0x1,_0x5cb9e4=0x1+(_0x1a91c5['centerOfMass']-0.5)*0.5,_0x364a35=0.1+_0x184ac8*0.3;obj['angVel']=_0x364a35*_0x44a55a*_0x5cb9e4*_0x444985,obj['wobble']=0.02,playSound('launch');}function updatePhysics(){if(state['isCharging']){state['power']+=state['powerDir']*0.7;if(state['power']>=PHYSICS['maxPower'])state['power']=PHYSICS['maxPower'],state['powerDir']=-Math['abs'](state['powerDir']);else state['power']<=0x0&&(state['power']=0x0,state['powerDir']=Math['abs'](state['powerDir']));updatePowerBar();}if(!state['isFlipping']){obj['grounded']&&obj['wobble']>0x0&&(obj['wobble']*=0.92,obj['angle']=Math['sin'](Date['now']()*0.01)*obj['wobble'],obj['wobble']<0.001&&(obj['wobble']=0x0,obj['angle']=0x0));return;}const _0x5c6fa=ITEMS[state['currentItem']],_0x113436=SURFACES[state['currentSurface']],_0x48b810=0.9+_0x5c6fa['mass']*0.2;obj['vy']+=PHYSICS['gravity']*_0x48b810;const _0x1f6e27=PHYSICS['airDrag']+(_0x5c6fa['mass']-0.5)*0.002;obj['vx']*=_0x1f6e27,obj['vy']*=Math['min'](0.999,_0x1f6e27);const _0x21c8ae=PHYSICS['angularDrag']-_0x5c6fa['h']/0xc8*0.01;obj['angVel']*=_0x21c8ae;if(obj['vy']>0x0){const _0x998aa4=0.0005*(0x1-_0x5c6fa['centerOfMass']);if(obj['angVel']>0x0)obj['angVel']-=_0x998aa4;else obj['angVel']+=_0x998aa4;}obj['x']+=obj['vx'],obj['y']+=obj['vy'],obj['angle']+=obj['angVel'];const _0x34477d=_0x5c6fa['w']/0x2;if(obj['x']-_0x34477d<0x0)obj['x']=_0x34477d,obj['vx']*=-0.4,obj['angVel']+=obj['vx']*0.02;else obj['x']+_0x34477d>canvas['width']&&(obj['x']=canvas['width']-_0x34477d,obj['vx']*=-0.4,obj['angVel']-=obj['vx']*0.02);const _0x497ad5=getFloorY();if(obj['y']>=_0x497ad5){obj['y']=_0x497ad5;const _0x4d6120=Math['abs'](obj['vy']),_0x4bdbdc=Math['abs'](obj['angle']%(Math['PI']*0x2)*0xb4/Math['PI']),_0x428a69=_0x4bdbdc<0x1e||_0x4bdbdc>0x14a;if(_0x4d6120>2.5){const _0x3b94cf=_0x428a69?0.5:1.2;obj['vy']*=-_0x113436['bounce']*_0x3b94cf,obj['vx']*=_0x113436['friction'];if(!_0x428a69){const _0x1a4e89=_0x4bdbdc<0xb4?0x1:-0x1;obj['angVel']+=_0x1a4e89*_0x4d6120*0.008;}else obj['angVel']*=0.3;obj['angVel']*=_0x113436['friction'],createImpactParticles(),playSound('bounce');}else _0x4d6120>PHYSICS['minVelocity']?(obj['vy']*=-_0x113436['bounce']*0.3,obj['angVel']*=0.5):checkLanding();}updateParticles();}function checkLanding(){state['isFlipping']=![],obj['grounded']=!![],obj['vx']=0x0,obj['vy']=0x0,obj['angVel']=0x0,ui['flipBtn']['textContent']='BASILI\x20TUT',ui['flipBtn']['disabled']=![];let _0x1a3443=(obj['angle']*0xb4/Math['PI']%0x168+0x168)%0x168;if(_0x1a3443>0xb4)_0x1a3443=0x168-_0x1a3443;if(_0x1a3443<=PHYSICS['perfectLanding'])handleSuccess('perfect');else{if(_0x1a3443<=PHYSICS['goodLanding'])handleSuccess('good');else _0x1a3443<=PHYSICS['okLanding']?handleSuccess('ok'):handleFail();}}function handleSuccess(_0x55b7b0){const _0xaf4742=_0x55b7b0==='perfect'?0x3:_0x55b7b0==='good'?0x2:0x1,_0x32ff73=_0x55b7b0==='perfect'?'MÃœKEMMEL!':_0x55b7b0==='good'?'GÃœZEL!':'OLDU!',_0x59f6c3=_0x55b7b0==='perfect'?'#22c55e':_0x55b7b0==='good'?'#84cc16':'#eab308';state['score']+=_0xaf4742,state['combo']++;if(state['combo']>state['bestCombo'])state['bestCombo']=state['combo'];showMessage(state['combo']>0x1?state['combo']+'x\x20'+_0x32ff73:_0x32ff73,_0x59f6c3),createSuccessParticles(),playSound('success'),obj['angle']=0x0,updateUI();if(state['score']%0x5===0x0)saveScore();}function handleFail(){state['combo']=0x0,showMessage('DÃœÅžTÃœ!','#ef4444'),playSound('fail');const _0x4dae9e=ITEMS[state['currentItem']];obj['angle']=Math['PI']/0x2,saveScore(),setTimeout(()=>{if(!state['isFlipping'])resetObject();},0x258);}function resetObject(){const _0x512e96=ITEMS[state['currentItem']];obj['x']=canvas['width']/0x2,obj['y']=getFloorY(),obj['vx']=0x0,obj['vy']=0x0,obj['angle']=0x0,obj['angVel']=0x0,obj['grounded']=!![];}function getFloorY(){return canvas['height']-0x12c;}function createImpactParticles(){const _0xe9ca83=Math['min'](PERF['maxParticles'],0x8);for(let _0x317c6b=0x0;_0x317c6b<_0xe9ca83;_0x317c6b++){state['particles']['push']({'x':obj['x']+(Math['random']()-0.5)*0x1e,'y':getFloorY(),'vx':(Math['random']()-0.5)*0x6,'vy':-Math['random']()*0x4-0x2,'size':Math['random']()*0x4+0x2,'life':0x1,'color':'#ffffff'});}}function createSuccessParticles(){const _0x1948cf=['#22c55e','#84cc16','#fbbf24','#ffffff'];for(let _0x192681=0x0;_0x192681<0xf;_0x192681++){const _0x2cc7c8=_0x192681/0xf*Math['PI']*0x2;state['particles']['push']({'x':obj['x'],'y':obj['y'],'vx':Math['cos'](_0x2cc7c8)*(Math['random']()*0x4+0x2),'vy':Math['sin'](_0x2cc7c8)*(Math['random']()*0x4+0x2)-0x3,'size':Math['random']()*0x5+0x3,'life':0x1,'color':_0x1948cf[Math['floor'](Math['random']()*_0x1948cf['length'])]});}}function updateParticles(){for(let _0x107c45=state['particles']['length']-0x1;_0x107c45>=0x0;_0x107c45--){const _0x4f4eb6=state['particles'][_0x107c45];_0x4f4eb6['x']+=_0x4f4eb6['vx'],_0x4f4eb6['y']+=_0x4f4eb6['vy'],_0x4f4eb6['vy']+=0.15,_0x4f4eb6['life']-=0.03;if(_0x4f4eb6['life']<=0x0)state['particles']['splice'](_0x107c45,0x1);}}function gameLoop(){updatePhysics(),render(),requestAnimationFrame(gameLoop);}function render(){ctx['clearRect'](0x0,0x0,canvas['width'],canvas['height']),drawBackground(),drawSurface(),drawObject(),drawParticles();}function drawBackground(){const _0xa055f7=canvas['width'],_0x39695a=canvas['height'];if(isMobile)ctx['fillStyle']='#0c0c14',ctx['fillRect'](0x0,0x0,_0xa055f7,_0x39695a);else{const _0x13a4fd=ctx['createLinearGradient'](0x0,0x0,0x0,_0x39695a);_0x13a4fd['addColorStop'](0x0,'#0a0a12'),_0x13a4fd['addColorStop'](0.4,'#0d0d18'),_0x13a4fd['addColorStop'](0.7,'#10101a'),_0x13a4fd['addColorStop'](0x1,'#08080e'),ctx['fillStyle']=_0x13a4fd,ctx['fillRect'](0x0,0x0,_0xa055f7,_0x39695a);if(PERF['enableAmbientLight']){const _0x20118b=ctx['createRadialGradient'](_0xa055f7/0x2,-0x32,0x0,_0xa055f7/0x2,-0x32,_0xa055f7*0.7);_0x20118b['addColorStop'](0x0,'rgba(80,\x2080,\x20120,\x200.12)'),_0x20118b['addColorStop'](0x1,'transparent'),ctx['fillStyle']=_0x20118b,ctx['fillRect'](0x0,0x0,_0xa055f7,_0x39695a);}}}function drawSurface(){const _0x2f2940=SURFACES[state['currentSurface']],_0x3bc305=getFloorY(),_0xae00df=ITEMS[state['currentItem']],_0xcf46f4=_0x3bc305+_0xae00df['h']/0x2,_0x122654=Math['min'](canvas['width']*0.88,0x1e0),_0x25c25e=0x5a,_0x100cd8=(canvas['width']-_0x122654)/0x2,_0x2a70ce=0xc;PERF['enableShadows']&&(ctx['save'](),ctx['shadowBlur']=0x28,ctx['shadowColor']='rgba(0,\x200,\x200,\x200.5)',ctx['shadowOffsetY']=0xf,ctx['fillStyle']='rgba(0,0,0,0.01)',ctx['beginPath'](),roundRect(ctx,_0x100cd8,_0xcf46f4,_0x122654,_0x25c25e,_0x2a70ce),ctx['fill'](),ctx['restore']());const _0x194642=ctx['createLinearGradient'](0x0,_0xcf46f4,0x0,_0xcf46f4+_0x25c25e);if(state['currentSurface']==='woodBar')_0x194642['addColorStop'](0x0,'#6B4423'),_0x194642['addColorStop'](0.3,'#5C3317'),_0x194642['addColorStop'](0.7,'#4A2810'),_0x194642['addColorStop'](0x1,'#3D200D');else{if(state['currentSurface']==='marbleCounter')_0x194642['addColorStop'](0x0,'#f5f5f5'),_0x194642['addColorStop'](0.5,'#e8e8e8'),_0x194642['addColorStop'](0x1,'#d0d0d0');else state['currentSurface']==='metalTable'?(_0x194642['addColorStop'](0x0,'#5a5a5a'),_0x194642['addColorStop'](0.3,'#4a4a4a'),_0x194642['addColorStop'](0.7,'#3a3a3a'),_0x194642['addColorStop'](0x1,'#2a2a2a')):(_0x194642['addColorStop'](0x0,'rgba(100,\x20180,\x20220,\x200.5)'),_0x194642['addColorStop'](0x1,'rgba(60,\x20140,\x20180,\x200.4)'));}ctx['fillStyle']=_0x194642,ctx['beginPath'](),roundRect(ctx,_0x100cd8,_0xcf46f4,_0x122654,_0x25c25e,_0x2a70ce),ctx['fill']();const _0x3a9ba8=ctx['createLinearGradient'](_0x100cd8,_0xcf46f4,_0x100cd8+_0x122654,_0xcf46f4);_0x3a9ba8['addColorStop'](0x0,'rgba(255,255,255,0.15)'),_0x3a9ba8['addColorStop'](0.5,'rgba(255,255,255,0.3)'),_0x3a9ba8['addColorStop'](0x1,'rgba(255,255,255,0.1)'),ctx['fillStyle']=_0x3a9ba8,ctx['beginPath'](),ctx['moveTo'](_0x100cd8+_0x2a70ce,_0xcf46f4),ctx['lineTo'](_0x100cd8+_0x122654-_0x2a70ce,_0xcf46f4),ctx['arcTo'](_0x100cd8+_0x122654,_0xcf46f4,_0x100cd8+_0x122654,_0xcf46f4+_0x2a70ce,_0x2a70ce),ctx['lineTo'](_0x100cd8+_0x122654,_0xcf46f4+0x8),ctx['lineTo'](_0x100cd8,_0xcf46f4+0x8),ctx['lineTo'](_0x100cd8,_0xcf46f4+_0x2a70ce),ctx['arcTo'](_0x100cd8,_0xcf46f4,_0x100cd8+_0x2a70ce,_0xcf46f4,_0x2a70ce),ctx['closePath'](),ctx['fill'](),ctx['strokeStyle']='rgba(255,255,255,0.25)',ctx['lineWidth']=0x1,ctx['beginPath'](),ctx['moveTo'](_0x100cd8+_0x2a70ce,_0xcf46f4+0.5),ctx['lineTo'](_0x100cd8+_0x122654-_0x2a70ce,_0xcf46f4+0.5),ctx['stroke']();if(state['currentSurface']==='woodBar'){ctx['strokeStyle']='rgba(0,0,0,0.15)',ctx['lineWidth']=0x1;for(let _0x1a1639=0x0;_0x1a1639<0x8;_0x1a1639++){const _0x10c4de=_0xcf46f4+0xf+_0x1a1639*0xa;ctx['beginPath'](),ctx['moveTo'](_0x100cd8+0x14,_0x10c4de),ctx['bezierCurveTo'](_0x100cd8+_0x122654*0.3,_0x10c4de+(Math['random']()-0.5)*0x4,_0x100cd8+_0x122654*0.6,_0x10c4de+(Math['random']()-0.5)*0x4,_0x100cd8+_0x122654-0x14,_0x10c4de),ctx['stroke']();}}ctx['strokeStyle']='rgba(255,255,255,0.08)',ctx['lineWidth']=0x2,ctx['setLineDash']([0x8,0xc]),ctx['beginPath'](),ctx['moveTo'](canvas['width']/0x2-0x32,_0x3bc305),ctx['lineTo'](canvas['width']/0x2+0x32,_0x3bc305),ctx['stroke'](),ctx['setLineDash']([]);}function drawObject(){const _0x1c9ee2=ITEMS[state['currentItem']],_0x2adaa2=itemImages[state['currentItem']];ctx['save'](),ctx['translate'](obj['x'],obj['y']),ctx['rotate'](obj['angle']),ctx['save'](),ctx['rotate'](-obj['angle']),ctx['shadowBlur']=0x19,ctx['shadowColor']='rgba(0,0,0,0.4)',ctx['shadowOffsetY']=0xa,ctx['fillStyle']='rgba(0,0,0,0.01)',ctx['fillRect'](-_0x1c9ee2['w']/0x2,-_0x1c9ee2['h']/0x2,_0x1c9ee2['w'],_0x1c9ee2['h']),ctx['restore']();if(_0x2adaa2&&_0x2adaa2['complete']&&_0x2adaa2['naturalWidth']>0x0){const _0x3e86b6=_0x1c9ee2['h']/_0x2adaa2['naturalHeight'],_0x587e5f=_0x2adaa2['naturalWidth']*_0x3e86b6,_0xf9b91f=_0x1c9ee2['h'];ctx['drawImage'](_0x2adaa2,-_0x587e5f/0x2,-_0xf9b91f/0x2,_0x587e5f,_0xf9b91f);}else _0x1c9ee2['type']==='glass'?drawGlass(_0x1c9ee2):drawBottle(_0x1c9ee2);ctx['restore']();}function drawGlass(_0x49e656){const _0x1fbe03=_0x49e656['h'],_0x8f5f40=_0x49e656['topW'],_0x365238=_0x49e656['bottomW'];ctx['beginPath'](),ctx['moveTo'](-_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x365238/0x2,_0x1fbe03/0x2),ctx['lineTo'](-_0x365238/0x2,_0x1fbe03/0x2),ctx['closePath']();const _0x31a0fa=ctx['createLinearGradient'](-_0x8f5f40/0x2,0x0,_0x8f5f40/0x2,0x0);_0x31a0fa['addColorStop'](0x0,'rgba(255,255,255,0.08)'),_0x31a0fa['addColorStop'](0.3,'rgba(255,255,255,0.2)'),_0x31a0fa['addColorStop'](0.5,'rgba(255,255,255,0.12)'),_0x31a0fa['addColorStop'](0.7,'rgba(255,255,255,0.18)'),_0x31a0fa['addColorStop'](0x1,'rgba(255,255,255,0.05)'),ctx['fillStyle']=_0x31a0fa,ctx['fill'](),ctx['save'](),ctx['beginPath'](),ctx['moveTo'](-_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x365238/0x2,_0x1fbe03/0x2),ctx['lineTo'](-_0x365238/0x2,_0x1fbe03/0x2),ctx['closePath'](),ctx['clip']();const _0x367b6e=ctx['createLinearGradient'](0x0,-_0x1fbe03/0x4,0x0,_0x1fbe03/0x2);_0x367b6e['addColorStop'](0x0,'transparent'),_0x367b6e['addColorStop'](0.1,_0x49e656['fill']),_0x367b6e['addColorStop'](0.9,_0x49e656['fill']),_0x367b6e['addColorStop'](0x1,shadeColor(_0x49e656['fill'],-0x1e)),ctx['fillStyle']=_0x367b6e,ctx['globalAlpha']=0.85,ctx['fillRect'](-_0x8f5f40,-_0x1fbe03*0.15,_0x8f5f40*0x2,_0x1fbe03),ctx['restore'](),ctx['strokeStyle']='rgba(255,255,255,0.6)',ctx['lineWidth']=0x2,ctx['beginPath'](),ctx['moveTo'](-_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['stroke'](),ctx['strokeStyle']='rgba(255,255,255,0.35)',ctx['lineWidth']=1.5,ctx['beginPath'](),ctx['moveTo'](-_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x8f5f40/0x2,-_0x1fbe03/0x2),ctx['lineTo'](_0x365238/0x2,_0x1fbe03/0x2),ctx['lineTo'](-_0x365238/0x2,_0x1fbe03/0x2),ctx['closePath'](),ctx['stroke']();const _0x3b6a8f=ctx['createLinearGradient'](-_0x8f5f40/0x2,0x0,-_0x8f5f40/0x2+0xc,0x0);_0x3b6a8f['addColorStop'](0x0,'rgba(255,255,255,0.4)'),_0x3b6a8f['addColorStop'](0x1,'rgba(255,255,255,0)'),ctx['fillStyle']=_0x3b6a8f,ctx['beginPath'](),ctx['moveTo'](-_0x8f5f40/0x2+0x3,-_0x1fbe03/0x2+0x4),ctx['lineTo'](-_0x8f5f40/0x2+0xc,-_0x1fbe03/0x2+0x4),ctx['lineTo'](-_0x365238/0x2+0xa,_0x1fbe03/0x2-0x4),ctx['lineTo'](-_0x365238/0x2+0x3,_0x1fbe03/0x2-0x4),ctx['closePath'](),ctx['fill'](),ctx['fillStyle']='rgba(255,255,255,0.8)',ctx['beginPath'](),ctx['arc'](-_0x8f5f40/0x4,-_0x1fbe03/0x2+0x3,0x2,0x0,Math['PI']*0x2),ctx['fill']();}function drawBottle(_0x328cc3){const _0x2ae935=_0x328cc3['h'],_0x14a437=_0x328cc3['w'],_0x14f14b=_0x328cc3['neckH'],_0x55adc9=_0x328cc3['neckW'],_0x1a5f54=_0x2ae935-_0x14f14b,_0x33ce04=ctx['createLinearGradient'](-_0x14a437/0x2,0x0,_0x14a437/0x2,0x0);_0x33ce04['addColorStop'](0x0,'rgba(255,255,255,0.05)'),_0x33ce04['addColorStop'](0.2,'rgba(255,255,255,0.18)'),_0x33ce04['addColorStop'](0.4,'rgba(255,255,255,0.08)'),_0x33ce04['addColorStop'](0.6,'rgba(255,255,255,0.15)'),_0x33ce04['addColorStop'](0.8,'rgba(255,255,255,0.1)'),_0x33ce04['addColorStop'](0x1,'rgba(255,255,255,0.03)'),ctx['beginPath'](),roundRect(ctx,-_0x14a437/0x2,-_0x2ae935/0x2+_0x14f14b,_0x14a437,_0x1a5f54,0x8),ctx['fillStyle']=_0x33ce04,ctx['fill'](),ctx['beginPath'](),ctx['moveTo'](-_0x55adc9/0x2,-_0x2ae935/0x2+_0x14f14b),ctx['lineTo'](-_0x55adc9/0x2-0x4,-_0x2ae935/0x2+_0x14f14b-0x5),ctx['lineTo'](-_0x55adc9/0x2,-_0x2ae935/0x2+0xc),ctx['quadraticCurveTo'](-_0x55adc9/0x2,-_0x2ae935/0x2+0x4,-_0x55adc9/0x4,-_0x2ae935/0x2+0x2),ctx['lineTo'](_0x55adc9/0x4,-_0x2ae935/0x2+0x2),ctx['quadraticCurveTo'](_0x55adc9/0x2,-_0x2ae935/0x2+0x4,_0x55adc9/0x2,-_0x2ae935/0x2+0xc),ctx['lineTo'](_0x55adc9/0x2+0x4,-_0x2ae935/0x2+_0x14f14b-0x5),ctx['lineTo'](_0x55adc9/0x2,-_0x2ae935/0x2+_0x14f14b),ctx['closePath'](),ctx['fillStyle']=_0x33ce04,ctx['fill'](),ctx['save'](),ctx['beginPath'](),roundRect(ctx,-_0x14a437/0x2,-_0x2ae935/0x2+_0x14f14b,_0x14a437,_0x1a5f54,0x8),ctx['clip']();const _0x5a84d7=ctx['createLinearGradient'](0x0,0x0,0x0,_0x1a5f54);_0x5a84d7['addColorStop'](0x0,_0x328cc3['fill']),_0x5a84d7['addColorStop'](0.8,_0x328cc3['fill']),_0x5a84d7['addColorStop'](0x1,shadeColor(_0x328cc3['fill'],-0x19)),ctx['fillStyle']=_0x5a84d7,ctx['globalAlpha']=0.7,ctx['fillRect'](-_0x14a437,_0x2ae935/0x2-_0x1a5f54*0.6,_0x14a437*0x2,_0x1a5f54),ctx['restore'](),ctx['strokeStyle']='rgba(255,255,255,0.4)',ctx['lineWidth']=0x2,ctx['beginPath'](),roundRect(ctx,-_0x14a437/0x2,-_0x2ae935/0x2+_0x14f14b,_0x14a437,_0x1a5f54,0x8),ctx['stroke'](),ctx['beginPath'](),ctx['moveTo'](-_0x55adc9/0x2,-_0x2ae935/0x2+_0x14f14b),ctx['lineTo'](-_0x55adc9/0x2,-_0x2ae935/0x2+0xc),ctx['quadraticCurveTo'](-_0x55adc9/0x2,-_0x2ae935/0x2+0x4,0x0,-_0x2ae935/0x2+0x2),ctx['quadraticCurveTo'](_0x55adc9/0x2,-_0x2ae935/0x2+0x4,_0x55adc9/0x2,-_0x2ae935/0x2+0xc),ctx['lineTo'](_0x55adc9/0x2,-_0x2ae935/0x2+_0x14f14b),ctx['stroke']();const _0x2165dc=ctx['createLinearGradient'](-_0x55adc9/0x2,-_0x2ae935/0x2,_0x55adc9/0x2,-_0x2ae935/0x2);_0x2165dc['addColorStop'](0x0,'#333'),_0x2165dc['addColorStop'](0.5,'#555'),_0x2165dc['addColorStop'](0x1,'#222'),ctx['fillStyle']=_0x2165dc,ctx['fillRect'](-_0x55adc9/0x2+0x2,-_0x2ae935/0x2,_0x55adc9-0x4,0x6);const _0x1b20fc=ctx['createLinearGradient'](-_0x14a437/0x2,0x0,-_0x14a437/0x2+0xf,0x0);_0x1b20fc['addColorStop'](0x0,'rgba(255,255,255,0.35)'),_0x1b20fc['addColorStop'](0x1,'rgba(255,255,255,0)'),ctx['fillStyle']=_0x1b20fc,ctx['fillRect'](-_0x14a437/0x2+0x3,-_0x2ae935/0x2+_0x14f14b+0x8,0xc,_0x1a5f54-0x14),ctx['fillStyle']='rgba(255,255,255,0.12)',ctx['fillRect'](-_0x14a437/0x2+0x8,_0x2ae935/0x2-_0x1a5f54/0x2-0x12,_0x14a437-0x10,0x24),ctx['strokeStyle']='rgba(255,255,255,0.2)',ctx['lineWidth']=0x1,ctx['strokeRect'](-_0x14a437/0x2+0x8,_0x2ae935/0x2-_0x1a5f54/0x2-0x12,_0x14a437-0x10,0x24),ctx['fillStyle']='rgba(255,255,255,0.9)',ctx['beginPath'](),ctx['arc'](-_0x14a437/0x4,-_0x2ae935/0x2+_0x14f14b+0xf,2.5,0x0,Math['PI']*0x2),ctx['fill']();}function shadeColor(_0x3fb659,_0x1b355b){const _0x4bab39=parseInt(_0x3fb659['replace']('#',''),0x10),_0x114a5f=Math['round'](2.55*_0x1b355b),_0x2ac632=Math['max'](0x0,Math['min'](0xff,(_0x4bab39>>0x10)+_0x114a5f)),_0x4066c0=Math['max'](0x0,Math['min'](0xff,(_0x4bab39>>0x8&0xff)+_0x114a5f)),_0x3146e7=Math['max'](0x0,Math['min'](0xff,(_0x4bab39&0xff)+_0x114a5f));return'#'+(0x1000000+_0x2ac632*0x10000+_0x4066c0*0x100+_0x3146e7)['toString'](0x10)['slice'](0x1);}function drawParticles(){for(const _0x303172 of state['particles']){ctx['globalAlpha']=_0x303172['life'],ctx['fillStyle']=_0x303172['color'],ctx['beginPath'](),ctx['arc'](_0x303172['x'],_0x303172['y'],_0x303172['size'],0x0,Math['PI']*0x2),ctx['fill']();}ctx['globalAlpha']=0x1;}function roundRect(_0x2acd36,_0x432f2a,_0xf4e68d,_0x283aa9,_0x251a23,_0x412b22){_0x2acd36['moveTo'](_0x432f2a+_0x412b22,_0xf4e68d),_0x2acd36['arcTo'](_0x432f2a+_0x283aa9,_0xf4e68d,_0x432f2a+_0x283aa9,_0xf4e68d+_0x251a23,_0x412b22),_0x2acd36['arcTo'](_0x432f2a+_0x283aa9,_0xf4e68d+_0x251a23,_0x432f2a,_0xf4e68d+_0x251a23,_0x412b22),_0x2acd36['arcTo'](_0x432f2a,_0xf4e68d+_0x251a23,_0x432f2a,_0xf4e68d,_0x412b22),_0x2acd36['arcTo'](_0x432f2a,_0xf4e68d,_0x432f2a+_0x283aa9,_0xf4e68d,_0x412b22);}function updateUI(){if(ui['score'])ui['score']['textContent']=state['score'];if(ui['combo'])ui['combo']['textContent']=state['combo']>0x1?state['combo']+'x':'';}function updatePowerBar(){if(ui['powerFill'])ui['powerFill']['style']['width']=state['power']+'%';if(ui['powerText'])ui['powerText']['textContent']=Math['round'](state['power'])+'%';}function showMessage(_0x1b4baa,_0x3505d5){if(!ui['message'])return;ui['message']['textContent']=_0x1b4baa,ui['message']['style']['color']=_0x3505d5,ui['message']['classList']['add']('show'),setTimeout(()=>ui['message']['classList']['remove']('show'),0x4b0);}function cycleItem(){const _0x12adba=Object['keys'](ITEMS),_0x55413f=_0x12adba['indexOf'](state['currentItem']);state['currentItem']=_0x12adba[(_0x55413f+0x1)%_0x12adba['length']],resetObject();const _0x2b5197=ITEMS[state['currentItem']];showMessage(_0x2b5197['name'],'#3b82f6');}function cycleSurface(){const _0xfc96ad=Object['keys'](SURFACES),_0x1c168d=_0xfc96ad['indexOf'](state['currentSurface']);state['currentSurface']=_0xfc96ad[(_0x1c168d+0x1)%_0xfc96ad['length']];const _0x296531=SURFACES[state['currentSurface']];showMessage(_0x296531['name'],'#8b5cf6');}function toggleSound(){state['soundOn']=!state['soundOn'];if(ui['soundBtn'])ui['soundBtn']['textContent']=state['soundOn']?'ðŸ”Š':'ðŸ”‡';}let audioCtx;function playSound(_0x3a09d6){if(!state['soundOn'])return;try{if(!audioCtx)audioCtx=new(window['AudioContext']||window['webkitAudioContext'])();const _0x121747=audioCtx['createOscillator'](),_0x421d7c=audioCtx['createGain'](),_0x58bbc7={'launch':{'freq':0x190,'type':'triangle','dur':0.1},'bounce':{'freq':0x96,'type':'square','dur':0.08},'success':{'freq':0x258,'type':'sine','dur':0.15},'fail':{'freq':0x64,'type':'sawtooth','dur':0.2}},_0x26b6ee=_0x58bbc7[_0x3a09d6]||_0x58bbc7['bounce'];_0x121747['type']=_0x26b6ee['type'],_0x121747['frequency']['setValueAtTime'](_0x26b6ee['freq'],audioCtx['currentTime']),_0x121747['frequency']['exponentialRampToValueAtTime'](_0x26b6ee['freq']/0x2,audioCtx['currentTime']+_0x26b6ee['dur']),_0x421d7c['gain']['setValueAtTime'](0.06,audioCtx['currentTime']),_0x421d7c['gain']['exponentialRampToValueAtTime'](0.001,audioCtx['currentTime']+_0x26b6ee['dur']),_0x121747['connect'](_0x421d7c),_0x421d7c['connect'](audioCtx['destination']),_0x121747['start'](),_0x121747['stop'](audioCtx['currentTime']+_0x26b6ee['dur']+0.05);}catch(_0x4a0942){}}async function saveScore(){if(!state['username']||state['score']===0x0)return;try{await fetch('/api/leaderboard',{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'username':state['username'],'score':state['score'],'stats':{'longestCombo':state['bestCombo']}})});}catch(_0x43bc71){}}async function loadLeaderboard(){if(!ui['leaderboard'])return;ui['leaderboard']['innerHTML']='<li>YÃ¼kleniyor...</li>';try{const _0x288587=await fetch('/api/leaderboard'),_0x12c170=await _0x288587['json']();ui['leaderboard']['innerHTML']='';if(!_0x12c170||_0x12c170['length']===0x0){ui['leaderboard']['innerHTML']='<li>HenÃ¼z\x20skor\x20yok</li>';return;}_0x12c170['slice'](0x0,0x5)['forEach']((_0x48f29f,_0x1dfdf4)=>{const _0xb4a1e1=document['createElement']('li');_0xb4a1e1['className']=_0x1dfdf4<0x3?'rank-'+(_0x1dfdf4+0x1):'',_0xb4a1e1['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22rank-num\x22>'+(_0x1dfdf4+0x1)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22name\x22>'+escapeHtml(_0x48f29f['username'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pts\x22>'+_0x48f29f['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20',ui['leaderboard']['appendChild'](_0xb4a1e1);});}catch(_0x44e5cc){ui['leaderboard']['innerHTML']='<li\x20style=\x22color:#ef4444\x22>BaÄŸlantÄ±\x20hatasÄ±</li>';}}function escapeHtml(_0x194421){const _0x5c5ff2=document['createElement']('div');return _0x5c5ff2['textContent']=_0x194421,_0x5c5ff2['innerHTML'];}window['onload']=init;