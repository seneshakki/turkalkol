<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2048</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="login.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Login Screen -->
    <div class="login-screen-2048" id="loginScreen2048">
        <a href="/" class="back-home-btn" title="Ana Sayfa">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7" />
            </svg>
            <span>Ana Sayfa</span>
        </a>
        <div class="login-container-2048">
            <div class="login-hero">
                <h1 class="login-title">2048</h1>
                <p class="login-tagline">SayÄ±larÄ± birleÅŸtir, rekoru kÄ±r!</p>
            </div>
            <div class="login-card">
                <input type="text" id="playerNameInput" placeholder="Ä°smini gir..." maxlength="12" autocomplete="off"
                    spellcheck="false">
                <button id="startGameBtn" class="start-btn-2048">
                    <span>OYNA</span>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M5 12h14M12 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
            <div class="leaderboard-2048">
                <div class="leaderboard-header">
                    <span class="trophy-icon">ğŸ†</span>
                    <span>EN Ä°YÄ° SKORLAR</span>
                </div>
                <ul id="leaderboard2048List">
                    <li class="loading">YÃ¼kleniyor...</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 2048 Oyunu (baÅŸta gizli) -->
    <div class="game-container hidden" id="gameContainer">
        <header class="game-header">
            <button class="back-btn" id="exitGameBtn" title="Ã‡Ä±kÄ±ÅŸ">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
            </button>
            <h1 class="game-title">2048</h1>
            <div class="score-container">
                <div class="score-box">
                    <span class="score-label">SKOR</span>
                    <span class="score-value" id="score">0</span>
                </div>
                <div class="score-box">
                    <span class="score-label">EN Ä°YÄ°</span>
                    <span class="score-value" id="bestScore">0</span>
                </div>
            </div>
        </header>

        <div class="player-info">
            <span id="playerNameDisplay">Oyuncu</span>
        </div>

        <div class="game-info">
            <p>AynÄ± sayÄ±larÄ± birleÅŸtirerek <strong>2048</strong>'e ulaÅŸÄ±n!</p>
            <button class="new-game-btn" id="newGameBtn">Yeni Oyun</button>
        </div>

        <div class="board-container">
            <div class="grid-background" id="gridBackground"></div>
            <div class="tiles-container" id="tilesContainer"></div>
        </div>

        <div class="instructions">
            <p>ğŸ® Hareket iÃ§in <strong>Ok tuÅŸlarÄ±</strong> veya <strong>KaydÄ±rma</strong> kullanÄ±n</p>
        </div>
    </div>

    <!-- Gizli Sohbet OdasÄ± Modal -->
    <div class="chat-modal" id="chatModal">
        <div class="chat-overlay" id="chatOverlay"></div>
        <div class="chat-container">

            <!-- GiriÅŸ EkranÄ± -->
            <div class="chat-screen" id="loginScreen">
                <div class="chat-header">
                    <h2>ğŸ” Gizli Sohbet</h2>
                    <button class="close-btn" id="closeChatBtn">&times;</button>
                </div>
                <div class="chat-content">
                    <div class="input-group">
                        <label for="usernameInput">KullanÄ±cÄ± AdÄ±</label>
                        <input type="text" id="usernameInput" placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin" maxlength="20">
                    </div>
                    <button class="primary-btn" id="enterLobbyBtn">Lobiye Gir</button>
                </div>
            </div>

            <!-- Lobi EkranÄ± -->
            <div class="chat-screen hidden" id="lobbyScreen">
                <div class="chat-header">
                    <h2>ğŸ  Lobi</h2>
                    <div class="header-actions">
                        <span class="username-display" id="usernameDisplay"></span>
                        <button class="close-btn" id="closeLobbyBtn">&times;</button>
                    </div>
                </div>
                <div class="chat-content">
                    <div class="room-actions">
                        <button class="action-btn" id="createRoomBtn">â• Oda OluÅŸtur</button>
                        <button class="action-btn" id="refreshRoomsBtn">ğŸ”„ Yenile</button>
                    </div>
                    <div class="rooms-list" id="roomsList">
                        <div class="loading-rooms">Odalar yÃ¼kleniyor...</div>
                    </div>
                </div>
            </div>

            <!-- Oda OluÅŸturma Modal -->
            <div class="create-room-modal hidden" id="createRoomModal">
                <div class="modal-content">
                    <h3>Yeni Oda OluÅŸtur</h3>
                    <div class="input-group">
                        <label for="roomNameInput">Oda AdÄ±</label>
                        <input type="text" id="roomNameInput" placeholder="Oda adÄ±" maxlength="30">
                    </div>
                    <div class="input-group">
                        <label for="roomPasswordInput">Åifre (Opsiyonel)</label>
                        <input type="password" id="roomPasswordInput" placeholder="BoÅŸ bÄ±rakÄ±labilir">
                    </div>
                    <div class="modal-actions">
                        <button class="secondary-btn" id="cancelCreateBtn">Ä°ptal</button>
                        <button class="primary-btn" id="confirmCreateBtn">OluÅŸtur</button>
                    </div>
                </div>
            </div>

            <!-- Åifre GiriÅŸi Modal -->
            <div class="password-modal hidden" id="passwordModal">
                <div class="modal-content">
                    <h3>ğŸ”’ Åifreli Oda</h3>
                    <div class="input-group">
                        <label for="joinPasswordInput">Åifre</label>
                        <input type="password" id="joinPasswordInput" placeholder="Oda ÅŸifresini girin">
                    </div>
                    <div class="modal-actions">
                        <button class="secondary-btn" id="cancelJoinBtn">Ä°ptal</button>
                        <button class="primary-btn" id="confirmJoinBtn">KatÄ±l</button>
                    </div>
                </div>
            </div>

            <!-- Sohbet OdasÄ± -->
            <div class="chat-screen hidden" id="chatRoomScreen">
                <div class="chat-header">
                    <button class="back-btn" id="backToLobbyBtn">â†</button>
                    <h2 id="roomTitle">Oda</h2>
                    <div class="header-actions">
                        <span class="my-role" id="myRoleDisplay">ğŸ‘¤</span>
                        <button class="settings-btn hidden" id="roomSettingsBtn" title="Ayarlar">âš™ï¸</button>
                        <span class="user-count" id="userCount">0</span>
                        <button class="close-btn" id="leaveRoomBtn">&times;</button>
                    </div>
                </div>

                <!-- Tab MenÃ¼sÃ¼ -->
                <div class="chat-tabs">
                    <button class="chat-tab active" data-tab="messages">ğŸ’¬ Mesajlar</button>
                    <button class="chat-tab" data-tab="users">ğŸ‘¥ KiÅŸiler</button>
                </div>

                <!-- Mesajlar Paneli -->
                <div class="tab-content active" id="messagesTab">
                    <div class="messages-container" id="messagesContainer"></div>
                    <div class="typing-indicator hidden" id="typingIndicator">Biri yazÄ±yor...</div>
                    <div class="reply-preview hidden" id="replyPreview"></div>
                    <div class="message-input-container">
                        <input type="file" id="fileInput" accept="image/*,.pdf,.doc,.docx,.txt,.zip" hidden>
                        <button class="file-btn" id="fileBtn" title="Dosya Ekle">ğŸ“</button>
                        <input type="text" id="messageInput" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." maxlength="500">
                        <button class="send-btn" id="sendMessageBtn">â¤</button>
                    </div>
                </div>

                <!-- KiÅŸiler Paneli -->
                <div class="tab-content" id="usersTab">
                    <div class="users-list" id="usersList"></div>
                </div>
            </div>

            <!-- Ayarlar Modal (Kurucu iÃ§in) -->
            <div class="settings-modal hidden" id="settingsModal">
                <div class="modal-content">
                    <h3>âš™ï¸ Oda AyarlarÄ±</h3>
                    <div class="input-group">
                        <label>Yeni Åifre</label>
                        <input type="password" id="newPasswordInput" placeholder="BoÅŸ = ÅŸifre kaldÄ±r">
                    </div>
                    <div class="modal-actions">
                        <button class="secondary-btn" id="cancelSettingsBtn">Ä°ptal</button>
                        <button class="primary-btn" id="saveSettingsBtn">Kaydet</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- BaÄŸlantÄ± Durumu -->
    <div class="connection-status hidden" id="connectionStatus">
        <span class="status-dot"></span>
        <span class="status-text">BaÄŸlanÄ±yor...</span>
    </div>

    <script src="game.js?v=2"></script>
    <script src="chat.js"></script>
</body>

</html>